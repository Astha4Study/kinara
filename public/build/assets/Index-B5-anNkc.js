import{a as c,j as e,L as x,r as h,u as j,H as y}from"./app-4pfQmxH3.js";import{A as N,b as w,c as k,d as v,e as D,f as A,g as C,h as S}from"./alert-dialog-DE_Rb0n8.js";import{c as O,d as T,e as E,f as d,A as H}from"./app-layout-DpRGaNgW.js";import{E as F}from"./ellipsis-CVPnAsAp.js";import{E as I}from"./eye-u16KEGnA.js";import{S as L}from"./square-pen-DIbETBuu.js";import{T as _}from"./trash-lGM1y2K-.js";import{S as M}from"./search-D3xt0eR-.js";import{F as $}from"./filter-BMIT5b_z.js";import{P}from"./plus-BPIafk07.js";import{T as R}from"./trash-2-C-32Xc2S.js";import{X as Q}from"./x-DSDmfDy_.js";import"./app-CzM0zAVH.js";import"./index-mXaeZc1y.js";import"./utils-C8lTWJhm.js";import"./app-logo-icon-CGJE2MtR.js";import"./index-nosrsPPA.js";import"./createLucideIcon-DZSg08PA.js";import"./index-Bb242jTJ.js";import"./index-4Ns3tNZl.js";import"./settings-_P0L_ygn.js";import"./users-pMDTdgXf.js";function Y({id:a,namaObat:r}){const[s,l]=c.useState(!1),n=()=>{h.delete(`/apoteker/daftar-obat/${a}`)};return e.jsxs(e.Fragment,{children:[e.jsxs(O,{children:[e.jsx(T,{asChild:!0,children:e.jsx("button",{className:"flex h-8 w-8 items-center justify-center rounded-md text-gray-600 hover:bg-gray-100 focus:ring-2 focus:ring-emerald-500 focus:outline-none",children:e.jsx(F,{className:"h-4 w-4"})})}),e.jsxs(E,{align:"end",className:"w-44 border border-gray-200 bg-white shadow-lg",children:[e.jsx(d,{asChild:!0,children:e.jsxs(x,{href:`/apoteker/daftar-obat/${a}`,className:"flex items-center gap-3 text-blue-600 hover:bg-blue-50",children:[e.jsx(I,{className:"h-4 w-4 text-blue-500"})," Lihat Detail"]})}),e.jsx(d,{asChild:!0,children:e.jsxs(x,{href:`/apoteker/daftar-obat/${a}/edit`,className:"flex items-center gap-3 text-emerald-600 hover:bg-emerald-50",children:[e.jsx(L,{className:"h-4 w-4 text-emerald-500"})," Edit"]})}),e.jsxs(d,{onClick:()=>l(!0),className:"flex cursor-pointer items-center gap-3 text-red-600 hover:bg-red-50",children:[e.jsx(_,{className:"h-4 w-4 text-red-500"})," Hapus"]})]})]}),e.jsx(N,{open:s,onOpenChange:l,children:e.jsxs(w,{children:[e.jsxs(k,{children:[e.jsx(v,{children:"Konfirmasi Hapus"}),e.jsxs(D,{children:["Apakah kamu yakin ingin menghapus obat"," ",e.jsx("b",{children:r}),"? Tindakan ini tidak bisa dibatalkan."]})]}),e.jsxs(A,{children:[e.jsx(C,{children:"Batal"}),e.jsx(S,{onClick:n,className:"bg-red-600 text-white hover:bg-red-700",children:"Ya, Hapus"})]})]})})]})}const m=["Nama Obat","Jenis Obat","Satuan","Stok Obat","Harga Obat"],q=[{title:"Daftar Obat",href:""}];function me(){const{obat:a}=j().props,[r,s]=c.useState([]),[l,n]=c.useState(""),p=t=>s(o=>o.includes(t)?o.filter(f=>f!==t):[...o,t]),g=()=>{r.length===a.length?s([]):s(a.map(t=>t.id))},u=()=>{r.length!==0&&confirm(`Yakin ingin menghapus ${r.length} obat?`)&&(r.forEach(t=>h.delete(`/apoteker/daftar-obat/${t}`)),s([]))},i=a.filter(t=>t.nama_obat.toLowerCase().includes(l.toLowerCase())),b=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t);return e.jsxs(H,{breadcrumbs:q,children:[e.jsx(y,{title:"Daftar Obat"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Daftar Obat"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Tambahkan dan perbarui data obat klinik"})]}),e.jsxs("div",{className:"my-4 flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{className:"relative flex gap-3",children:[e.jsxs("div",{className:"flex",children:[e.jsx(M,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Cari obat berdasarkan nama...",value:l,onChange:t=>n(t.target.value),className:"w-full min-w-[400px] rounded-lg border border-gray-200 bg-white py-2.5 pr-4 pl-10 text-sm text-gray-900 placeholder-gray-400 transition focus:border-emerald-400 focus:ring-emerald-400"})]}),e.jsxs("button",{className:"flex items-center gap-2 rounded-lg border border-gray-200 bg-white px-4 py-2.5 text-sm font-medium text-gray-700 transition hover:bg-gray-50",children:[e.jsx($,{className:"h-4 w-4"})," Filter"]})]}),e.jsxs(x,{href:"/apoteker/daftar-obat/create",className:"flex items-center gap-2 rounded-lg bg-emerald-600 px-4 py-2.5 text-sm font-medium text-white transition hover:bg-emerald-700",children:[e.jsx(P,{className:"h-4 w-4"})," Tambah Obat"]})]}),e.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:r.length===a.length&&a.length>0,onChange:g,className:"h-4 w-4 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"})}),m.map(t=>e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase",children:t},t)),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium tracking-wider text-gray-500 uppercase",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:i.length>0?i.map(t=>e.jsxs("tr",{className:"transition hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",checked:r.includes(t.id),onChange:()=>p(t.id),className:"h-4 w-4 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"})}),e.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:t.nama_obat}),e.jsx("td",{className:"px-6 py-4 text-gray-700",children:t.jenis_obat}),e.jsx("td",{className:"px-6 py-4 text-gray-700",children:t.satuan}),e.jsx("td",{className:"px-6 py-4 text-gray-700",children:t.stok}),e.jsx("td",{className:"px-6 py-4 text-gray-700",children:b(t.harga)}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx(Y,{id:t.id,namaObat:t.nama_obat})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:m.length+2,className:"px-6 py-10 text-center text-sm text-gray-500",children:"Tidak ada data obat."})})})]})})}),e.jsx("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-600",children:e.jsxs("p",{children:["Menampilkan ",i.length," dari"," ",a.length," obat"]})}),r.length>0&&e.jsxs("div",{className:"fixed bottom-8 left-1/2 flex -translate-x-1/2 items-center gap-4 rounded-lg border border-gray-200 bg-white px-6 py-3 shadow-lg",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[r.length," obat dipilih"]}),e.jsxs("button",{onClick:u,className:"flex items-center gap-2 rounded-lg border border-red-200 bg-white px-4 py-2 text-sm font-medium text-red-600 transition hover:bg-red-50",children:[e.jsx(R,{className:"h-4 w-4"})," Hapus"]}),e.jsx("button",{onClick:()=>s([]),className:"ml-2 text-gray-400 transition hover:text-gray-600",children:e.jsx(Q,{className:"h-5 w-5"})})]})]})]})}export{me as default};
