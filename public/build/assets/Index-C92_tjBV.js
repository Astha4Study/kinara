import{u as d,r as c,j as e,H as o,L as p}from"./app-Ocq4icyJ.js";import{A as m}from"./app-layout-CvpzEEPm.js";import{S as u}from"./search-Du9gvAn0.js";import"./app-C5lo-_3G.js";import"./utils-Ds7cxrxR.js";import"./button-DsBpidke.js";import"./index-CY_07Mx7.js";import"./index-BMVo49-9.js";import"./index-DxN2IpeV.js";import"./index-D_nX7TNC.js";import"./avatar-p7XMLe9B.js";import"./index-Dcn7FtQn.js";import"./index-6sq2BDXy.js";import"./index-4Ns3tNZl.js";import"./settings-CxkdKHPl.js";import"./users-udHOKson.js";const h=[{title:"Laporan Keuangan",href:"/admin/laporan-keuangan"}];function C(){const{laporan:r,currentKlinikId:n}=d().props,[t,l]=c.useState(""),s=r.filter(a=>a.status==="selesai"&&a.klinik_id===n).filter(a=>a.nama_pasien.toLowerCase().includes(t.toLowerCase())||a.nomor_pasien.includes(t)),i=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a),x=a=>{try{return new Date(a).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"})}catch{return a}};return e.jsxs(m,{breadcrumbs:h,children:[e.jsx(o,{title:"Laporan Keuangan"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Laporan Keuangan"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Rekap transaksi pembayaran pasien (status selesai)"})]}),e.jsx("div",{className:"my-4 flex flex-wrap items-center justify-between gap-3",children:e.jsx("div",{className:"relative flex gap-3",children:e.jsxs("div",{className:"flex",children:[e.jsx(u,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Cari berdasarkan nama atau nomor pasien...",value:t,onChange:a=>l(a.target.value),className:"w-full min-w-[400px] rounded-lg border border-gray-200 bg-white py-2.5 pr-4 pl-10 text-sm text-gray-900 placeholder-gray-400 transition focus:border-emerald-400 focus:ring-emerald-400"})]})})}),e.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nomor Pasien"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nama Pasien"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Bayar"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tanggal"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:s.length>0?s.map(a=>e.jsxs("tr",{className:"transition hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:a.nomor_pasien}),e.jsx("td",{className:"px-6 py-4 text-gray-700",children:a.nama_pasien}),e.jsx("td",{className:"px-6 py-4 text-gray-700",children:i(a.total_bayar)}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"rounded-full bg-green-100 px-3 py-1 text-xs font-semibold text-green-700",children:a.status})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"px-6 py-4 text-gray-700",children:x(a.tanggal)})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx(p,{href:`/admin/laporan-keuangan/${a.id}`,className:"text-blue-600 hover:text-blue-700",children:"Lihat Detail"})})]},a.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-sm text-gray-500",children:"Tidak ada data laporan keuangan."})})})]})})}),e.jsx("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-600",children:e.jsxs("p",{children:["Menampilkan ",s.length," dari"," ",r.length," transaksi"]})})]})]})}export{C as default};
