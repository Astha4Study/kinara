import{u as c,r as d,j as e,H as m,L as x,t as n,s as u}from"./app-CgQ5_Exw.js";import{A as h}from"./app-layout-t2dowiqj.js";import"./app-BKSfwL7n.js";import"./utils-B4smH_VX.js";import"./button-BJRDkhjt.js";import"./index-D6pdehZ5.js";import"./index-CwTnP0Ax.js";import"./index-Bg-JEsM4.js";import"./index-CJy58a3f.js";import"./avatar-CqAQLXEM.js";import"./index-Dt6uqdf4.js";import"./index-DYp1igiw.js";import"./index-4Ns3tNZl.js";import"./settings-tEfU3Xeu.js";import"./users-D_KveccA.js";const i=["No","No Pasien","Nama Pasien","Dokter","Status","Tanggal Resep","Aksi"],g=[{title:"Resep Masuk",href:"/apoteker/resep-masuk"}],o={pending:{label:"Menunggu",className:"bg-yellow-100 text-yellow-700"},sedang_dibuat:{label:"Sedang Dibuat",className:"bg-blue-100 text-blue-700"},selesai:{label:"Selesai",className:"bg-green-100 text-green-700"}};function E(){const{resep:t}=c().props,[l,b]=d.useState(""),r=d.useMemo(()=>{const s=l.toLowerCase();return t.filter(a=>(a.status==="pending"||a.status==="sedang_dibuat")&&(a.pasien_nama.toLowerCase().includes(s)||a.dokter_nama.toLowerCase().includes(s)))},[t,l]);return e.jsxs(h,{breadcrumbs:g,children:[e.jsx(m,{title:"Resep Masuk"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Resep Masuk"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Daftar resep dari dokter yang menunggu diproses"})]}),e.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsx("tr",{className:"border-b bg-gray-50",children:i.map(s=>e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:s},s))})}),e.jsx("tbody",{className:"divide-y",children:r.length>0?r.map((s,a)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:a+1}),e.jsx("td",{className:"px-6 py-4",children:s.nomor_pasien??"-"}),e.jsx("td",{className:"px-6 py-4 font-medium",children:s.pasien_nama}),e.jsx("td",{className:"px-6 py-4",children:s.dokter_nama}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${o[s.status].className}`,children:o[s.status].label})}),e.jsx("td",{className:"px-6 py-4",children:new Date(s.created_at).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx(x,{href:u("apoteker.resep-masuk.mulai",s.id),method:"put",as:"button",onSuccess:()=>n.success("Resep berhasil ditandai sedang dibuat."),onError:p=>n.error(p?.message??"Masih ada resep yang sedang diproses."),className:"rounded-md bg-emerald-600 px-3 py-1 text-xs font-medium text-white hover:bg-emerald-700",children:"Siapkan Obat"})})]},s.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:i.length,className:"px-6 py-10 text-center text-sm text-gray-500",children:"Tidak ada resep masuk"})})})]})})}),e.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Menampilkan ",r.length," dari ",t.length," resep"]})]})]})}export{E as default};
