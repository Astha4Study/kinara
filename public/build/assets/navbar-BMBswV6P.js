import{r as i,j as e,u as T,L as k,a as D}from"./app-Ocq4icyJ.js";import{l as H,A as L,a as P,L as z,X as W}from"./avatar-p7XMLe9B.js";import{c as K}from"./utils-Ds7cxrxR.js";import{M as B,i as X,u as U,P as G,a as V,b as Y,L as q,m as J}from"./proxy-DmdVEtb8.js";import{U as $}from"./user-DHFKwN_0.js";const Q=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Z=K("ArrowUpRight",Q);const ee=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],te=K("Menu",ee);function I(t,n){if(typeof t=="function")return t(n);t!=null&&(t.current=n)}function se(...t){return n=>{let s=!1;const a=t.map(o=>{const r=I(o,n);return!s&&typeof r=="function"&&(s=!0),r});if(s)return()=>{for(let o=0;o<a.length;o++){const r=a[o];typeof r=="function"?r():I(t[o],null)}}}}function ne(...t){return i.useCallback(se(...t),t)}class re extends i.Component{getSnapshotBeforeUpdate(n){const s=this.props.childRef.current;if(s&&n.isPresent&&!this.props.isPresent){const a=s.offsetParent,o=X(a)&&a.offsetWidth||0,r=this.props.sizeRef.current;r.height=s.offsetHeight||0,r.width=s.offsetWidth||0,r.top=s.offsetTop,r.left=s.offsetLeft,r.right=o-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ie({children:t,isPresent:n,anchorX:s,root:a}){const o=i.useId(),r=i.useRef(null),u=i.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:g}=i.useContext(B),j=ne(r,t?.ref);return i.useInsertionEffect(()=>{const{width:c,height:p,top:d,left:l,right:f}=u.current;if(n||!r.current||!c||!p)return;const y=s==="left"?`left: ${l}`:`right: ${f}`;r.current.dataset.motionPopId=o;const h=document.createElement("style");g&&(h.nonce=g);const N=a??document.head;return N.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${p}px !important;
            ${y}px !important;
            top: ${d}px !important;
          }
        `),()=>{N.contains(h)&&N.removeChild(h)}},[n]),e.jsx(re,{isPresent:n,childRef:r,sizeRef:u,children:i.cloneElement(t,{ref:j})})}const le=({children:t,initial:n,isPresent:s,onExitComplete:a,custom:o,presenceAffectsLayout:r,mode:u,anchorX:g,root:j})=>{const c=U(ae),p=i.useId();let d=!0,l=i.useMemo(()=>(d=!1,{id:p,initial:n,isPresent:s,custom:o,onExitComplete:f=>{c.set(f,!0);for(const y of c.values())if(!y)return;a&&a()},register:f=>(c.set(f,!1),()=>c.delete(f))}),[s,c,a]);return r&&d&&(l={...l}),i.useMemo(()=>{c.forEach((f,y)=>c.set(y,!1))},[s]),i.useEffect(()=>{!s&&!c.size&&a&&a()},[s]),u==="popLayout"&&(t=e.jsx(ie,{isPresent:s,anchorX:g,root:j,children:t})),e.jsx(G.Provider,{value:l,children:t})};function ae(){return new Map}const w=t=>t.key||"";function A(t){const n=[];return i.Children.forEach(t,s=>{i.isValidElement(s)&&n.push(s)}),n}const oe=({children:t,custom:n,initial:s=!0,onExitComplete:a,presenceAffectsLayout:o=!0,mode:r="sync",propagate:u=!1,anchorX:g="left",root:j})=>{const[c,p]=V(u),d=i.useMemo(()=>A(t),[t]),l=u&&!c?[]:d.map(w),f=i.useRef(!0),y=i.useRef(d),h=U(()=>new Map),[N,_]=i.useState(d),[v,E]=i.useState(d);Y(()=>{f.current=!1,y.current=d;for(let x=0;x<v.length;x++){const m=w(v[x]);l.includes(m)?h.delete(m):h.get(m)!==!0&&h.set(m,!1)}},[v,l.length,l.join("-")]);const C=[];if(d!==N){let x=[...d];for(let m=0;m<v.length;m++){const b=v[m],R=w(b);l.includes(R)||(x.splice(m,0,b),C.push(b))}return r==="wait"&&C.length&&(x=C),E(A(x)),_(d),null}const{forceRender:O}=i.useContext(q);return e.jsx(e.Fragment,{children:v.map(x=>{const m=w(x),b=u&&!c?!1:d===v||l.includes(m),R=()=>{if(h.has(m))h.set(m,!0);else return;let M=!0;h.forEach(F=>{F||(M=!1)}),M&&(O?.(),E(y.current),u&&p?.(),a&&a())};return e.jsx(le,{isPresent:b,initial:!f.current||s?void 0:!1,custom:n,presenceAffectsLayout:o,mode:r,root:j,onExitComplete:b?void 0:R,anchorX:g,children:x},m)})})},S=(t="")=>t.split(" ").map(n=>n[0]).join("").substring(0,2).toUpperCase();function he(){const{auth:t}=T().props,n=t?.user,s=!!n,[a,o]=i.useState(!1),[r,u]=i.useState(!1),[g,j]=i.useState(!1);i.useEffect(()=>{const l=()=>{j(window.scrollY>10)};return window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)},[]);const c=i.useRef(null),p=[{name:"Beranda",href:""},{name:"Cari Klinik",href:"cari-klinik"},{name:"Untuk Klinik",href:"untuk-klinik"},{name:"Tentang Kami",href:"tentang-kami"}];i.useEffect(()=>{function l(f){c.current&&!c.current.contains(f.target)&&u(!1)}return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]);const d=()=>{u(!1),o(!1),D.post("/logout")};return e.jsxs(e.Fragment,{children:[e.jsx("nav",{className:`sticky top-0 z-50 w-full bg-white transition-all duration-300 ${g?"border-b shadow-sm":""}`,children:e.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex h-14 items-center justify-between sm:h-16 lg:grid lg:grid-cols-3",children:[e.jsx("div",{className:"flex items-center",children:e.jsx(k,{href:"/",children:e.jsx("img",{src:H,alt:"logo",className:"h-7 sm:h-8 lg:h-9"})})}),e.jsx("ul",{className:"hidden items-center justify-center gap-4 text-sm font-medium text-gray-700 lg:flex xl:gap-6",children:p.map((l,f)=>e.jsx("li",{className:"transition hover:text-emerald-600",children:e.jsx(k,{href:`/${l.href}`,children:l.name})},f))}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(k,{href:"/kontak-kami",className:"hidden rounded-full border border-emerald-600 px-4 py-2 text-sm font-medium text-emerald-600 transition hover:bg-emerald-50 lg:flex",children:"Daftarkan Klinik"}),e.jsx("div",{className:"relative hidden lg:block",ref:c,children:s?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>u(!r),className:"flex items-center gap-2 rounded-lg px-4 py-2 hover:bg-gray-50",children:[e.jsx(L,{className:"h-8 w-8",children:e.jsx(P,{className:"bg-emerald-600 text-sm text-white",children:S(n.name)})}),e.jsxs("div",{className:"hidden text-left xl:block",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-800",children:["Hai, ",n.name]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Lihat profil"})]})]}),e.jsx(oe,{children:r&&e.jsxs(J.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 rounded-lg border bg-white shadow-md",children:[e.jsxs(k,{href:"/profile",className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-50",onClick:()=>u(!1),children:[e.jsx($,{size:16}),"Profil"]}),e.jsxs("button",{onClick:d,className:"flex w-full items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[e.jsx(z,{size:16}),"Keluar"]})]})})]}):e.jsxs(k,{href:"/login",className:"flex items-center gap-1 rounded-full bg-emerald-600 px-4 py-2 text-sm font-medium text-white hover:bg-emerald-700",children:["Masuk",e.jsx(Z,{size:16})]})}),e.jsx("button",{onClick:()=>o(!a),className:"rounded-lg p-2 hover:bg-gray-100 lg:hidden",children:a?e.jsx(W,{className:"h-5 w-5"}):e.jsx(te,{className:"h-5 w-5"})})]})]})})}),a&&e.jsx("div",{className:"fixed inset-0 z-30 bg-black/20 lg:hidden",onClick:()=>o(!1)}),e.jsx("div",{className:`fixed inset-x-0 top-14 z-40 transition-all lg:hidden ${a?"translate-y-0 opacity-100":"pointer-events-none -translate-y-2 opacity-0"}`,children:e.jsxs("div",{className:"rounded-b-2xl bg-white shadow-xl ring-1 ring-black/5",children:[s&&e.jsxs("div",{className:"flex items-center gap-3 border-b px-4 py-4",children:[e.jsx(L,{className:"h-10 w-10",children:e.jsx(P,{className:"bg-emerald-600 text-sm font-medium text-white",children:S(n.name)})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:n.name}),e.jsx("p",{className:"text-xs text-gray-500",children:n.email})]})]}),e.jsx("ul",{className:"space-y-1 px-2 py-3",children:p.map((l,f)=>e.jsx("li",{children:e.jsx(k,{href:`/${l.href}`,className:"flex items-center gap-3 rounded-xl px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100",onClick:()=>o(!1),children:l.name})},f))}),s&&e.jsxs("div",{className:"space-y-1 border-t px-2 py-3",children:[e.jsxs(k,{href:"/profile",className:"flex items-center gap-3 rounded-xl px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100",onClick:()=>o(!1),children:[e.jsx($,{className:"h-4 w-4 text-gray-400"}),"Profil"]}),e.jsxs("button",{onClick:d,className:"flex w-full items-center gap-3 rounded-xl px-3 py-2 text-sm font-medium text-red-600 hover:bg-red-50",children:[e.jsx(z,{className:"h-4 w-4"}),"Keluar"]})]})]})})]})}export{he as N};
