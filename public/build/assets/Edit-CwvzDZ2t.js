import{j as e,c as o,r as d,H as c,s as p,t as n}from"./app-Ocq4icyJ.js";import{D as h}from"./data-pasien-resep-C3Ca5Ysw.js";import{A as m,b as x,c as b,d as g,e as y,f as u,g as j,h as f}from"./alert-dialog-BEkTNufo.js";import{A as k}from"./app-layout-CvpzEEPm.js";import"./app-C5lo-_3G.js";import"./highlight-BJFkuN9F.js";import"./utils-Ds7cxrxR.js";import"./index-BMVo49-9.js";import"./index-DxN2IpeV.js";import"./index-CY_07Mx7.js";import"./index-D_nX7TNC.js";import"./avatar-p7XMLe9B.js";import"./button-DsBpidke.js";import"./index-Dcn7FtQn.js";import"./index-6sq2BDXy.js";import"./index-4Ns3tNZl.js";import"./settings-CxkdKHPl.js";import"./users-udHOKson.js";const N=({detail:s,processing:t=!1,onConfirm:r})=>e.jsxs("div",{className:"flex h-full flex-col overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Daftar Obat Resep"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Obat yang akan diserahkan kepada pasien"})]}),e.jsx("div",{className:"flex-1 px-4 pb-4",children:e.jsx("div",{className:"overflow-hidden rounded-md border border-gray-200",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium tracking-wider text-gray-600 uppercase",children:"Obat"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium tracking-wider text-gray-600 uppercase",children:"Jumlah"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:s.map(a=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:a.nama}),e.jsxs("td",{className:"px-4 py-3 text-right text-gray-700",children:[a.jumlah," ",a.satuan?a.satuan:""]})]},a.id))})]})})}),e.jsx("div",{className:"flex justify-end border-t border-gray-200 bg-gray-50 px-6 py-4",children:e.jsx("button",{type:"button",disabled:t,onClick:r,className:"rounded-lg bg-emerald-600 px-4 py-2 text-sm font-medium text-white hover:bg-emerald-700 disabled:opacity-50",children:"Konfirmasi Penyerahan Obat"})})]}),A=[{title:"Penyerahan Obat",href:"/apoteker/penyerahan-obat"},{title:"Proses Penyerahan",href:""}];function $({resep:s}){const{patch:t,processing:r}=o({}),[a,i]=d.useState(!1),l=()=>{i(!1),t(p("apoteker.penyerahan-obat.update",s.id),{onSuccess:()=>n.success("Obat berhasil diserahkan",{description:`Resep ${s.pasien.nomor_pasien} sudah diserahkan ke pasien.`}),onError:()=>n.error("Penyerahan gagal",{description:"Terjadi kesalahan saat memproses penyerahan obat."})})};return e.jsxs(k,{breadcrumbs:A,children:[e.jsx(c,{title:"Proses Penyerahan Obat"}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(h,{pasien:s.pasien}),e.jsx(N,{detail:s.detail_resep,processing:r,onConfirm:()=>i(!0)})]})}),e.jsx(m,{open:a,onOpenChange:i,children:e.jsxs(x,{children:[e.jsxs(b,{children:[e.jsx(g,{children:"Konfirmasi Penyerahan Obat"}),e.jsx(y,{children:"Apakah kamu yakin ingin menyerahkan obat untuk resep ini?"})]}),e.jsxs(u,{children:[e.jsx(j,{disabled:r,children:"Batal"}),e.jsx(f,{onClick:l,disabled:r,className:"bg-emerald-600 hover:bg-emerald-700",children:"Ya, Serahkan Obat"})]})]})})]})}export{$ as default};
