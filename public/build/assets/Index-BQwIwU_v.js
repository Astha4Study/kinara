import{r as d,j as e,L as m,b as C,u as S,H as F,t as T}from"./app-CgQ5_Exw.js";import{A as h,b as p,c as g,d as u,g as f,e as j,f as y,h as b}from"./alert-dialog-Ib_-xiso.js";import{D as H,a as M,b as E,c as x,A as I}from"./app-layout-t2dowiqj.js";import{E as L}from"./ellipsis-CXl1TxIw.js";import{S as P}from"./square-pen-B93hyhYM.js";import{T as B}from"./trash-DI2S3DDQ.js";import{d as K}from"./index-CnAOvh5b.js";import{S as O}from"./search-CDbg9dwJ.js";import{P as Y}from"./plus-DcjA9-uR.js";import{X as _}from"./avatar-CqAQLXEM.js";import"./app-BKSfwL7n.js";import"./index-CwTnP0Ax.js";import"./index-Bg-JEsM4.js";import"./utils-B4smH_VX.js";import"./index-D6pdehZ5.js";import"./index-CJy58a3f.js";import"./button-BJRDkhjt.js";import"./index-Dt6uqdf4.js";import"./index-DYp1igiw.js";import"./index-4Ns3tNZl.js";import"./settings-tEfU3Xeu.js";import"./users-D_KveccA.js";function $({id:t,nama:a}){const[r,l]=d.useState(!1),n=()=>{C.delete(`/super-admin/fasilitas-klinik/${t}`)};return e.jsxs(e.Fragment,{children:[e.jsxs(H,{children:[e.jsx(M,{asChild:!0,children:e.jsx("button",{className:"flex h-8 w-8 items-center justify-center rounded-md text-gray-600 hover:bg-gray-100 focus:ring-2 focus:ring-emerald-500 focus:outline-none",children:e.jsx(L,{className:"h-4 w-4"})})}),e.jsxs(E,{align:"end",className:"w-44 border border-gray-200 bg-white shadow-lg",children:[e.jsx(x,{asChild:!0,children:e.jsxs(m,{href:`/super-admin/fasilitas-klinik/${t}/edit`,className:"flex items-center gap-3 text-emerald-600 hover:bg-emerald-50",children:[e.jsx(P,{className:"h-4 w-4 text-emerald-500"})," Edit"]})}),e.jsxs(x,{onClick:()=>l(!0),className:"flex cursor-pointer items-center gap-3 text-red-600 hover:bg-red-50",children:[e.jsx(B,{className:"h-4 w-4 text-red-500"})," Hapus"]})]})]}),e.jsx(h,{open:r,onOpenChange:l,children:e.jsxs(p,{children:[e.jsxs(g,{children:[e.jsx(u,{children:"Konfirmasi Hapus"}),e.jsxs(f,{children:["Apakah kamu yakin ingin menghapus fasilitas"," ",e.jsx("b",{children:a}),"? Tindakan ini tidak bisa dibatalkan."]})]}),e.jsxs(j,{children:[e.jsx(y,{children:"Batal"}),e.jsx(b,{onClick:n,className:"bg-red-600 text-white hover:bg-red-700",children:"Ya, Hapus"})]})]})})]})}const Q=[{title:"Daftar Fasilitas",href:""}];function me(){const{fasilitas:t}=S().props,[a,r]=d.useState([]),[l,n]=d.useState(!1),[c,N]=d.useState(""),w=s=>r(i=>i.includes(s)?i.filter(A=>A!==s):[...i,s]),k=()=>r(a.length===t.length?[]:t.map(s=>s.id)),D=()=>{a.length!==0&&n(!0)},v=()=>{a.forEach((s,i)=>K.Inertia.delete(`/super-admin/fasilitas-klinik/${s}`,{onSuccess:()=>{T.success("Fasilitas berhasil dihapus")},onFinish:()=>{i===a.length-1&&(r([]),n(!1))}}))},o=t.filter(s=>s.nama.toLowerCase().includes(c.toLowerCase()));return e.jsxs(I,{breadcrumbs:Q,children:[e.jsx(F,{title:"Daftar Fasilitas"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Daftar Fasilitas"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Kelola data fasilitas klinik"})]}),e.jsxs("div",{className:"my-4 flex flex-wrap items-center justify-between gap-3",children:[e.jsx("div",{className:"relative flex gap-3",children:e.jsxs("div",{className:"flex",children:[e.jsx(O,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Cari fasilitas...",value:c,onChange:s=>N(s.target.value),className:"w-full min-w-[400px] rounded-lg border border-gray-200 bg-white py-2.5 pr-4 pl-10 text-sm text-gray-900 placeholder-gray-400 transition focus:border-emerald-400 focus:ring-emerald-400"})]})}),e.jsxs(m,{href:"/super-admin/fasilitas-klinik/create",className:"flex items-center gap-2 rounded-lg bg-emerald-600 px-4 py-2.5 text-sm font-medium text-white transition hover:bg-emerald-700",children:[e.jsx(Y,{className:"h-4 w-4"}),"Tambah Fasilitas"]})]}),e.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"border-b border-gray-200 bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:a.length===t.length&&t.length>0,onChange:k,className:"h-4 w-4 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase",children:"Nama Fasilitas"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase",children:"Tanggal Buat"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium tracking-wider text-gray-500 uppercase",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:o.length?o.map((s,i)=>e.jsxs("tr",{className:"transition hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",checked:a.includes(s.id),onChange:()=>w(s.id),className:"h-4 w-4 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"})}),e.jsx("td",{className:"px-6 py-4 text-gray-900",children:s.nama}),e.jsx("td",{className:"px-6 py-4 text-left text-gray-700",children:new Date(s.created_at).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"})}),e.jsx("td",{className:"flex justify-center px-6 py-4",children:e.jsx($,{id:s.id,nama:s.nama})})]},s.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-sm text-gray-500",children:"Tidak ada data fasilitas."})})})]})})}),e.jsx("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-600",children:e.jsxs("p",{children:["Menampilkan ",o.length," dari ",t.length," ","fasilitas"]})}),a.length>0&&e.jsxs("div",{className:"fixed bottom-8 left-1/2 flex -translate-x-1/2 items-center gap-4 rounded-lg border border-gray-200 bg-white px-6 py-3 shadow-lg",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[a.length," fasilitas dipilih"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:D,className:"flex items-center gap-2 rounded-lg border border-red-200 bg-white px-4 py-2 text-sm font-medium text-red-600 transition hover:bg-red-50",children:"Hapus"}),e.jsx("button",{onClick:()=>r([]),className:"ml-2 text-gray-400 transition hover:text-gray-600",children:e.jsx(_,{className:"h-5 w-5"})})]})]})]}),l&&e.jsx(h,{open:l,onOpenChange:n,children:e.jsxs(p,{children:[e.jsxs(g,{children:[e.jsx(u,{children:"Yakin ingin menghapus?"}),e.jsxs(f,{children:["Kamu akan menghapus ",a.length," ","fasilitas. Tindakan ini tidak dapat dibatalkan."]})]}),e.jsxs(j,{children:[e.jsx(y,{children:"Batal"}),e.jsx(b,{onClick:v,className:"bg-red-600 text-white hover:bg-red-700",children:"Ya, Hapus"})]})]})})]})}export{me as default};
